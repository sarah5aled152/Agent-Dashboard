<!-- Outer "card-like" container -->
<div class="ml-4 mb-8 bg-white border border-gray-200 rounded-xl shadow p-6">
  <!-- Header (Title) -->
  <div class="flex items-center mb-6">
    <h2 class="text-xl font-semibold text-gray-800">Reset Password</h2>
  </div>

  <!-- Error & Success Messages -->
  @if (errorMessage) {
  <div class="text-red-700 bg-red-100 p-2 rounded mb-4">
    {{ errorMessage }}
  </div>
  }
  @if (successMessage) {
  <div class="text-green-700 bg-green-100 p-2 rounded mb-4">
    {{ successMessage }}
  </div>
  }

  <!-- Form -->
  <form (submit)="onSubmit()" [formGroup]="resetForm" novalidate>
    <!-- Email Field -->
    <div class="mb-4">
      <label for="email" class="font-medium block text-gray-700 mb-1">
        Email
      </label>
      <input type="email" formControlName="email" id="email" class="
          w-full 
          rounded-md 
          border border-gray-300
          focus:outline-none 
          focus:ring-1 
          focus:ring-indigo-500 
          px-3 py-2 " required />
      @if (resetForm.get('email')?.invalid && resetForm.get('email')?.touched) {
      <small class=" text-red-700">Please enter a valid email</small>
      }
    </div>

    <!-- OTP Field -->
    <div class="mb-4">
      <label for="otp" class="font-medium block text-gray-700 mb-1">
        OTP
      </label>
      <input type="text" formControlName="otp" id="otp"
        class=" w-full  rounded-md  border border-gray-300 focus:outline-none  focus:ring-1  focus:ring-indigo-500  px-3 py-2"
        required />
      @if (resetForm.get('otp')?.invalid && resetForm.get('otp')?.touched) {
      <small class=" text-red-700">Please enter a valid OTP</small>
      }
    </div>

    <!-- New Password Field -->
    <div class="mb-4">
      <label for="newPassword" class="font-medium block text-gray-700 mb-1">
        New Password
      </label>
      <input type="password" formControlName="newPassword" id="newPassword"
        class=" w-full  rounded-md  border border-gray-300 focus:outline-none  focus:ring-1  focus:ring-indigo-500  px-3 py-2 "
        required />
      @if (resetForm.get('newPassword')?.invalid && resetForm.get('newPassword')?.touched) {
      <small class=" text-red-700">
        Password must be at least 8 characters
      </small>
      }
    </div>
  </form>

  <!-- Submit Button -->
  <button type="submit" class="
    w-[400px] 
    bg-indigo-500
    text-white 
    py-2 px-4 
    rounded-md 
    hover:bg-indigo-600
    focus:outline-none 
    focus:ring-2 
    focus:bg-indigo-600 
    focus:ring-offset-2 
    transition-colors 
    disabled:opacity-50 
    disabled:cursor-not-allowed
    cursor-pointer
  " [disabled]="resetForm.invalid || isSubmitted">
    {{ isSubmitted ? 'Resetting...' : 'Reset Password' }}
  </button>

</div>